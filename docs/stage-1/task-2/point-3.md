# Настройка базы данных

## Что нужно сделать

Я настраиваю базу данных MySQL/MariaDB для проекта, создаю базу данных и пользователя, проверяю подключение из Laravel.

## Почему MySQL/MariaDB

Выбрано MySQL/MariaDB потому что:
- Надежная и проверенная СУБД
- Отличная поддержка в Laravel
- Достаточно функций для проекта
- Простота настройки и использования
- Хорошая производительность
- Широко используется в production

## Пошаговая инструкция

1. Проверяю, установлен ли MySQL/MariaDB:
   ```bash
   mysql --version
   ```
   Или:
   ```bash
   mariadb --version
   ```
   Если не установлен, устанавливаю через пакетный менеджер.

2. Запускаю MySQL/MariaDB сервис:
   ```bash
   brew services start mysql  # macOS
   sudo systemctl start mysql  # Linux
   ```

3. Подключаюсь к MySQL:
   ```bash
   mysql -u root -p
   ```
   Ввожу пароль root (если установлен) или просто нажимаю Enter.

4. Создаю базу данных для проекта:
   ```sql
   CREATE DATABASE klassev;
   ```

5. Проверяю, что база данных создана:
   ```sql
   SHOW DATABASES;
   ```
   Должна быть в списке klassev

7. Выхожу из MySQL:
   ```sql
   EXIT;
   ```

8. Обновляю .env файл с данными для подключения:
   ```bash
   nano .env
   ```
   Устанавливаю:
   ```
   DB_CONNECTION=mysql
   DB_HOST=127.0.0.1
   DB_PORT=3306
   DB_DATABASE=
   DB_USERNAME=
   DB_PASSWORD=
   ```
   Или использую root, если не создавал отдельного пользователя.

9. Проверяю подключение из Laravel:
   ```bash
   php artisan tinker
   ```
   В tinker выполняю:
   ```php
   DB::connection()->getPdo();
   ```
   Должно вернуться объект PDO без ошибок.

10. Альтернативная проверка через команду:
    ```bash
    php artisan db:show
    ```
    Должна отобразиться информация о подключении к базе данных.

## Что проверить после выполнения

- [x] MySQL/MariaDB установлен и запущен
- [x] База данных klassev_test создана
- [x] Пользователь создан (если использовал отдельного пользователя)
- [x] Настройки в .env корректны
- [x] Laravel может подключиться к базе данных
- [x] Нет ошибок при проверке подключения


## Возможные проблемы

- Если не могу подключиться, проверяю, запущен ли MySQL: `brew services list`
- Если ошибка доступа, проверяю права пользователя в MySQL
- Если база данных не создается, проверяю права root пользователя
- Если Laravel не подключается, проверяю правильность данных в .env

## Безопасность

- Использую отдельного пользователя для приложения, а не root
- Устанавливаю надежный пароль
- Ограничиваю права пользователя только на нужную базу данных
- Регулярно делаю резервные копии базы данных

