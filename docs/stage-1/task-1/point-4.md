# Создание .env файла с конфигурацией

## Что нужно сделать

Я создаю файл .env с полной конфигурацией для разработки, включая настройки базы данных, Redis, почты и других сервисов.

## Почему это важно

Файл .env содержит все конфигурационные параметры приложения:
- Данные для подключения к базе данных
- Настройки кэширования (Redis)
- Ключи API для внешних сервисов
- Настройки почты
- Режим работы приложения (development/production)

Это позволяет:
- Хранить чувствительные данные отдельно от кода
- Легко менять настройки для разных окружений
- Не коммитить секретные ключи в репозиторий

## Пошаговая инструкция

1. Копирую пример файла .env:
   ```bash
   cp .env.example .env
   ```
   Laravel создает .env.example с базовыми настройками.

2. Генерирую ключ приложения:
   ```bash
   php artisan key:generate
   ```
   Это создаст уникальный APP_KEY для шифрования данных.

3. Открываю .env файл для редактирования:
   ```bash
   nano .env
   ```
   Или использую любой текстовый редактор.

4. Настраиваю базовые параметры приложения:
   ```
   APP_NAME="Trener"
   APP_ENV=local
   APP_KEY=base64:... (уже сгенерирован)
   APP_DEBUG=true
   APP_URL=http://klassev.test
   ```

5. Настраиваю подключение к базе данных:
   ```
   DB_CONNECTION=mysql
   DB_HOST=127.0.0.1
   DB_PORT=3306
   DB_DATABASE=klassev_test
   DB_USERNAME=root
   DB_PASSWORD=
   ```
   Заменяю на свои реальные данные для подключения к MySQL/MariaDB.

6. Настраиваю Redis:
   ```
   REDIS_HOST=127.0.0.1
   REDIS_PASSWORD=null
   REDIS_PORT=6379
   ```

7. Настраиваю почту (для разработки использую mailtrap или log):
   ```
   MAIL_MAILER=smtp
   MAIL_SCHEME=null
   MAIL_HOST=mailhog
   MAIL_PORT=1025
   MAIL_USERNAME=null
   MAIL_PASSWORD=null
   MAIL_FROM_ADDRESS="noreply@klassev.test"
   MAIL_FROM_NAME="${APP_NAME}"
   ```

8. Настраиваю очереди (использую database для простоты):
   ```
   QUEUE_CONNECTION=database
   ```

9. Сохраняю файл и проверяю синтаксис:
   ```bash
   php artisan config:clear
   php artisan config:cache
   ```

10. Проверяю, что конфигурация загружается корректно:
    ```bash
    php artisan tinker
    ```
    В tinker проверяю:
    ```php
    config('app.name')
    config('database.connections.mysql.database')
    ```

## Что проверить после выполнения

- [x] Файл .env создан и содержит все необходимые параметры
- [x] APP_KEY сгенерирован и не пустой
- [x] Данные для подключения к БД корректны
- [x] .env добавлен в .gitignore (не коммитится в репозиторий)
- [x] Конфигурация загружается без ошибок

## Важные замечания

- Никогда не коммичу .env файл в репозиторий
- Для production использую отдельный .env с другими настройками
- Храню .env.example в репозитории как шаблон (без реальных ключей)
- Регулярно проверяю, что чувствительные данные не попали в Git

## Дополнительные настройки

Если планирую использовать дополнительные сервисы, добавляю их настройки в .env:
- OAuth провайдеры (Google, GitHub и т.д.)
- Платежные системы (YooKassa, Stripe)
- Внешние API

